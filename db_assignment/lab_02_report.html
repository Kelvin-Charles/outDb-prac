<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 02 - Database Concepts & Design - Task 02</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f9f9f9;
            position: relative;
            overflow-x: hidden;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }
        
        .page {
            background-color: white;
            margin: 0 auto;
            padding: 40px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 800px;
            min-height: 1000px;
        }
        
        .cover-page {
            text-align: center;
            padding: 0;
            position: relative;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .blue-header-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 12px;
            background: linear-gradient(90deg, #1e40af 0%, #3b82f6 50%, #1e40af 100%);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .cover-content {
            padding: 60px 40px;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .university-logo {
            width: 140px;
            height: auto;
            margin: 0 auto 30px auto;
            display: block;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
            transition: transform 0.3s ease;
            -webkit-user-drag: none;
            user-drag: none;
        }
        
        .university-logo:hover {
            transform: scale(1.05);
        }
        
        .university-name {
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 50px;
            color: #1e40af;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .university-name::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #1e40af);
            border-radius: 2px;
        }
        
        .course-details {
            text-align: left;
            max-width: 600px;
            margin: 50px auto;
            padding: 30px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .detail-row {
            margin-bottom: 18px;
            display: flex;
            align-items: flex-start;
            padding: 8px 0;
            border-bottom: 1px solid rgba(226, 232, 240, 0.5);
            transition: background-color 0.3s ease;
        }
        
        .detail-row:hover {
            background-color: rgba(59, 130, 246, 0.05);
            border-radius: 8px;
            padding: 8px 12px;
            margin: 8px -12px;
        }
        
        .detail-row .label {
            font-weight: 700;
            min-width: 200px;
            color: #1e40af;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .detail-row .value {
            color: #374151;
            flex: 1;
            font-size: 15px;
            font-weight: 500;
        }
        
        .decorative-elements {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
        }
        
        .decorative-circle {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(30, 64, 175, 0.1));
            animation: float 6s ease-in-out infinite;
        }
        
        .circle-1 {
            width: 80px;
            height: 80px;
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .circle-2 {
            width: 60px;
            height: 60px;
            top: 60%;
            right: 15%;
            animation-delay: 2s;
        }
        
        .circle-3 {
            width: 40px;
            height: 40px;
            bottom: 20%;
            left: 20%;
            animation-delay: 4s;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .date {
            margin-top: 40px;
            font-size: 14px;
        }
        
        .content-page {
            page-break-before: always;
        }
        
        .question-section {
            margin-bottom: 40px;
            page-break-inside: avoid;
        }
        
        .question-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        
        .scenario {
            background-color: #ecf0f1;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin-bottom: 20px;
        }
        
        .scenario h4 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .requirements {
            background-color: #e8f5e8;
            padding: 15px;
            border-left: 4px solid #27ae60;
            margin-bottom: 20px;
        }
        
        .requirements h4 {
            margin-top: 0;
            color: #27ae60;
        }
        
        .code-section {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .code-section h4 {
            margin-top: 0;
            color: #495057;
        }
        
        pre {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 12px;
            line-height: 1.4;
        }
        
        .screenshot {
            text-align: center;
            margin: 20px 0;
            page-break-inside: avoid;
            position: relative;
            overflow: hidden;
        }
        
        .screenshot img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            -webkit-user-drag: none;
            user-drag: none;
        }
        
        .screenshot::after {
            content: 'UG2024-5-150';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-25deg);
            color: rgba(220, 38, 38, 0.35);
            font-size: 56px;
            font-weight: 900;
            letter-spacing: 2px;
            white-space: nowrap;
            pointer-events: none;
            user-select: none;
        }
        
        .screenshot.full-watermark::after {
            color: rgba(15, 23, 42, 0.18);
        }
        
        .screenshot-caption {
            font-style: italic;
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .features {
            background-color: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }
        
        .features h4 {
            margin-top: 0;
            color: #856404;
        }
        
        .features ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .conclusion {
            background-color: #d1ecf1;
            padding: 20px;
            border-left: 4px solid #17a2b8;
            margin-top: 30px;
        }
        
        .conclusion h3 {
            margin-top: 0;
            color: #0c5460;
        }
        
        .step-separator {
            border: none;
            height: 2px;
            background: linear-gradient(90deg, #1e40af 0%, #3b82f6 50%, #1e40af 100%);
            margin: 40px 0;
            border-radius: 1px;
        }
        
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .summary-table th, .summary-table td {
            border: 1px solid #bdc3c7;
            padding: 12px;
            text-align: left;
        }
        
        .summary-table th {
            background-color: #34495e;
            color: white;
        }
        
        .summary-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        /* Animated background */
        .bg-anim { position: fixed; inset: -20vh -20vw; z-index: -1; opacity: 0.28; filter: blur(60px) saturate(110%); pointer-events: none; }
        .bg-anim:before, .bg-anim:after { content: ""; position: absolute; width: 120vmax; height: 120vmax; border-radius: 50%; }
        .bg-anim:before { background: radial-gradient(closest-side, #60a5fa, transparent 70%); top: -10%; left: -15%; animation: slowFloat1 28s ease-in-out infinite alternate; }
        .bg-anim:after  { background: radial-gradient(closest-side, #a78bfa, transparent 70%); bottom: -15%; right: -10%; animation: slowFloat2 32s ease-in-out infinite alternate; }
        @keyframes slowFloat1 { 0% { transform: translate3d(0,0,0) scale(1); } 50% { transform: translate3d(6%, -4%, 0) scale(1.05); } 100% { transform: translate3d(10%, 6%, 0) scale(1.1); } }
        @keyframes slowFloat2 { 0% { transform: translate3d(0,0,0) scale(1); } 50% { transform: translate3d(-8%, 4%, 0) scale(1.08); } 100% { transform: translate3d(-12%, -6%, 0) scale(1.12); } }
        
        @media print {
            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            body {
                background-color: white !important;
                margin: 0;
                padding: 0;
                font-size: 12pt;
                line-height: 1.4;
            }
            
            .page {
                box-shadow: none !important;
                margin: 0 !important;
                padding: 20mm !important;
                max-width: none !important;
                min-height: auto !important;
                page-break-after: always;
            }
            
            .cover-page {
                background: white !important;
                min-height: auto !important;
                display: block !important;
                justify-content: normal !important;
                page-break-after: always;
            }
            
            .cover-content {
                padding: 0 !important;
                max-width: none !important;
                margin: 0 !important;
            }
            
            .blue-header-bar {
                background: #1e40af !important;
                height: 8px !important;
                -webkit-print-color-adjust: exact !important;
            }
            
            .university-logo {
                width: 100px !important;
                margin: 20px auto 20px auto !important;
                filter: none !important;
                transition: none !important;
            }
            
            .university-logo:hover {
                transform: none !important;
            }
            
            .university-name {
                font-size: 18pt !important;
                margin-bottom: 30px !important;
                text-shadow: none !important;
                color: #1e40af !important;
            }
            
            .university-name::after {
                background: #1e40af !important;
                -webkit-print-color-adjust: exact !important;
            }
            
            .course-details {
                background: white !important;
                border: 2px solid #1e40af !important;
                border-radius: 8px !important;
                box-shadow: none !important;
                backdrop-filter: none !important;
                margin: 30px auto !important;
                padding: 20px !important;
                max-width: 500px !important;
            }
            
            .detail-row {
                margin-bottom: 12px !important;
                padding: 4px 0 !important;
                border-bottom: 1px solid #e5e7eb !important;
                transition: none !important;
                page-break-inside: avoid;
            }
            
            .detail-row:hover {
                background-color: transparent !important;
                border-radius: 0 !important;
                padding: 4px 0 !important;
                margin: 0 !important;
            }
            
            .detail-row .label {
                color: #1e40af !important;
                font-size: 11pt !important;
                min-width: 180px !important;
            }
            
            .detail-row .value {
                color: #000 !important;
                font-size: 12pt !important;
            }
            
            .date {
                margin-top: 30px !important;
                font-size: 11pt !important;
                color: #000 !important;
            }
            
            .decorative-elements {
                display: none !important;
            }
            
            .content-page {
                page-break-before: always;
            }
            
            .question-section {
                page-break-inside: avoid;
                margin-bottom: 30px !important;
            }
            
            .question-title {
                font-size: 16pt !important;
                color: #1e40af !important;
                page-break-after: avoid;
            }
            
            .scenario, .requirements, .features, .conclusion, .task-overview {
                page-break-inside: avoid;
                margin: 15px 0 !important;
                padding: 12px !important;
            }
            
            .code-section {
                page-break-inside: avoid;
                margin: 15px 0 !important;
                padding: 15px !important;
                background: #f8f9fa !important;
                border: 1px solid #dee2e6 !important;
            }
            
            .code-section h4 {
                font-size: 12pt !important;
                margin-bottom: 10px !important;
            }
            
            pre {
                font-size: 9pt !important;
                line-height: 1.2 !important;
                background: #2d3748 !important;
                color: #e2e8f0 !important;
                padding: 10px !important;
                overflow: visible !important;
                white-space: pre-wrap !important;
                word-wrap: break-word !important;
            }
            
            .screenshot {
                page-break-inside: avoid;
                margin: 15px 0 !important;
                text-align: center !important;
            }
            
            .screenshot img {
                max-width: 100% !important;
                height: auto !important;
                border: 1px solid #000 !important;
                box-shadow: none !important;
            }
            
            .screenshot-caption {
                font-size: 10pt !important;
                color: #000 !important;
                margin-top: 5px !important;
            }
            
            h2, h3, h4 {
                color: #1e40af !important;
                page-break-after: avoid;
            }
            
            ul, ol {
                page-break-inside: avoid;
            }
            
            li {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="bg-anim"></div>
    <!-- Cover Page -->
    <div class="page cover-page">
        <div class="blue-header-bar"></div>
        
        <div class="decorative-elements">
            <div class="decorative-circle circle-1"></div>
            <div class="decorative-circle circle-2"></div>
            <div class="decorative-circle circle-3"></div>
        </div>
        
        <div class="cover-content">
            <img src="logo/out.avif" alt="OUT Logo" class="university-logo">
            
            <div class="university-name">OPEN UNIVERSITY OF TANZANIA</div>
            
            <div class="course-details">
                <div class="detail-row">
                    <span class="label">COURSE NAME:</span>
                    <span class="value">Bachelor of Science in Information and Communication Technology</span>
                </div>
                <div class="detail-row">
                    <span class="label">WORK:</span>
                    <span class="value">Lab 02 - Task 02</span>
                </div>
                <div class="detail-row">
                    <span class="label">SUBJECT NAME:</span>
                    <span class="value">Database Concepts & Design</span>
                </div>
                <div class="detail-row">
                    <span class="label">COURSE CODE:</span>
                    <span class="value">OIT 138</span>
                </div>
                <div class="detail-row">
                    <span class="label">STUDENT NAME:</span>
                    <span class="value">Kelvin Charles Meena</span>
                </div>
                <div class="detail-row">
                    <span class="label">REGISTRATION NUMBER:</span>
                    <span class="value">UG2024-5-150</span>
                </div>
            </div>
            
            <div class="date">
                <strong>Date of Submission:</strong> 08/09/2025
            </div>
        </div>
    </div>

    <!-- Content Page -->
    <div class="page content-page">
        <h2 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">LAB 02 - TASK 02 REPORT</h2>

        <div class="question-section">
            <div class="question-title">Task 02: Database Query Operations</div>
            
            <div class="scenario">
                <h4>Objective:</h4>
                <p>To demonstrate advanced SQL query operations including filtering, aggregation, joins, and pattern matching using the university database.</p>
            </div>
            
            <div class="requirements">
                <h4>Instructions:</h4>
                <p>This task involves performing various database queries to retrieve specific information from the instructor, teaches, and department tables. All operations were performed using MariaDB 10.4.32 in a Docker container environment.</p>
            </div>
        </div>

        <div class="question-section">
            <div class="question-title">Step a) Retrieve all staff based in Comp. Sci. department</div>
            
            <div class="code-section">
                <h4>SQL Query:</h4>
                <pre><code>SELECT * FROM instructor WHERE dept_name = 'Computer Science';</code></pre>
            </div>
            
            <div class="screenshot">
                <img src="screenshots/task2 a.png" alt="Task 2a - Computer Science Staff">
                <div class="screenshot-caption">Figure 2a: All instructors in the Computer Science department</div>
            </div>
            
            <div class="features">
                <h4>Result:</h4>
                <p>The query successfully retrieves all instructors working in the Computer Science department. This demonstrates the use of WHERE clause for filtering records based on specific criteria.</p>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Step b) Retrieve Name, Salary and Teaching department of instructor ID 10101</div>
            
            <div class="code-section">
                <h4>SQL Query:</h4>
                <pre><code>SELECT name, salary, dept_name 
FROM instructor 
WHERE ID = '10101';</code></pre>
            </div>
            
            <div class="screenshot">
                <img src="screenshots/task2 b.png" alt="Task 2b - Instructor 10101 Details">
                <div class="screenshot-caption">Figure 2b: Details of instructor with ID 10101</div>
            </div>
            
            <div class="features">
                <h4>Result:</h4>
                <p>The query retrieves specific information (name, salary, department) for the instructor with ID 10101. This demonstrates selective column retrieval and primary key filtering.</p>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Step c) Find the average salary in each department</div>
            
            <div class="code-section">
                <h4>SQL Query:</h4>
                <pre><code>SELECT dept_name, AVG(salary) AS average_salary
FROM instructor 
GROUP BY dept_name
ORDER BY average_salary DESC;</code></pre>
            </div>
            
            <div class="screenshot">
                <img src="screenshots/task2 c.png" alt="Task 2c - Average Salary by Department">
                <div class="screenshot-caption">Figure 2c: Average salary calculation for each department</div>
            </div>
            
            <div class="features">
                <h4>Result:</h4>
                <p>The query calculates and displays the average salary for each department, ordered from highest to lowest. This demonstrates the use of aggregate functions (AVG), GROUP BY clause, and ORDER BY for sorting results.</p>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Step d) Display all instructors who have taught courses with their names and course IDs</div>
            
            <div class="code-section">
                <h4>SQL Query:</h4>
                <pre><code>SELECT DISTINCT i.name, t.course_id
FROM instructor i
JOIN teaches t ON i.ID = t.ID
ORDER BY i.name, t.course_id;</code></pre>
            </div>
            
            <div class="screenshot">
                <img src="screenshots/task2 d.png" alt="Task 2d - Instructors and Their Courses">
                <div class="screenshot-caption">Figure 2d: All instructors who teach courses with their course IDs</div>
            </div>
            
            <div class="features">
                <h4>Result:</h4>
                <p>The query retrieves all instructors who have taught courses along with the course IDs they teach. This demonstrates the use of JOIN operations to combine data from multiple tables and DISTINCT to eliminate duplicate entries.</p>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Step e) Retrieve departments whose building name includes 'Watson'</div>
            
            <div class="code-section">
                <h4>SQL Query:</h4>
                <pre><code>SELECT dept_name, building
FROM department
WHERE building LIKE '%Watson%';</code></pre>
            </div>
            
            <div class="screenshot">
                <img src="screenshots/task2 e.png" alt="Task 2e - Departments with Watson Building">
                <div class="screenshot-caption">Figure 2e: Departments located in buildings containing 'Watson'</div>
            </div>
            
            <div class="features">
                <h4>Result:</h4>
                <p>The query searches for departments whose building names contain the substring 'Watson'. This demonstrates the use of LIKE operator with wildcard characters (%) for pattern matching in SQL queries.</p>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Complete Task Screenshot</div>
            
            <div class="screenshot full-watermark">
                <img src="screenshots/task2 full.png" alt="Task 2 Complete - Full Screenshot">
                <div class="screenshot-caption">Figure: Complete Task 02 execution showing all steps (a-e) in sequence</div>
            </div>
            
            <div class="features">
                <h4>Complete Task Overview:</h4>
                <p>This comprehensive screenshot demonstrates the successful completion of all Task 02 requirements, showing the complete workflow from basic filtering through advanced query operations including joins, aggregation, and pattern matching.</p>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Task Summary</div>
            
            <table class="summary-table">
                <thead>
                    <tr>
                        <th>Step</th>
                        <th>Description</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>a</td>
                        <td>Retrieve all staff based in Comp. Sci. department</td>
                        <td>✅ Completed</td>
                    </tr>
                    <tr>
                        <td>b</td>
                        <td>Retrieve Name, Salary and Teaching department of instructor ID 10101</td>
                        <td>✅ Completed</td>
                    </tr>
                    <tr>
                        <td>c</td>
                        <td>Find the average salary in each department</td>
                        <td>✅ Completed</td>
                    </tr>
                    <tr>
                        <td>d</td>
                        <td>Display all instructors who have taught courses with their names and course IDs</td>
                        <td>✅ Completed</td>
                    </tr>
                    <tr>
                        <td>e</td>
                        <td>Retrieve departments whose building name includes 'Watson'</td>
                        <td>✅ Completed</td>
                    </tr>
                    <tr style="background-color: #e8f5e8; font-weight: bold;">
                        <td colspan="2">COMPLETION STATUS</td>
                        <td>✅ All Completed</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="features">
                <h4>Completion Status:</h4>
                <p>All tasks completed successfully with proper database query operations demonstrated.</p>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Key Learning Outcomes</div>
            
            <div class="features">
                <h4>Skills Demonstrated:</h4>
                <ul>
                    <li>Basic filtering using WHERE clause with exact matches</li>
                    <li>Selective column retrieval from database tables</li>
                    <li>Aggregate functions (AVG) for statistical calculations</li>
                    <li>GROUP BY clause for data grouping and aggregation</li>
                    <li>ORDER BY clause for result sorting</li>
                    <li>JOIN operations to combine data from multiple tables</li>
                    <li>DISTINCT keyword to eliminate duplicate results</li>
                    <li>LIKE operator with wildcard characters for pattern matching</li>
                    <li>Advanced SQL query construction and optimization</li>
                </ul>
            </div>
        </div>

        <hr class="step-separator">

        <div class="question-section">
            <div class="question-title">Technical Environment</div>
            
            <div class="features">
                <h4>Environment Details:</h4>
                <ul>
                    <li><strong>Database Server:</strong> MariaDB 10.4.32</li>
                    <li><strong>Platform:</strong> Docker Container</li>
                    <li><strong>Interface:</strong> Command Line (mysql client)</li>
                    <li><strong>Database:</strong> university</li>
                    <li><strong>Date:</strong> September 2025</li>
                </ul>
            </div>
        </div>

        <hr class="step-separator">

        <div class="conclusion">
            <h3>Conclusion</h3>
            <p>Task 02 has been successfully completed with all required database query operations demonstrated. The implementation shows proficiency in:</p>
            <ul>
                <li><strong>Data Filtering:</strong> Using WHERE clauses for precise data retrieval</li>
                <li><strong>Data Aggregation:</strong> Applying statistical functions and grouping operations</li>
                <li><strong>Table Joins:</strong> Combining data from multiple related tables</li>
                <li><strong>Pattern Matching:</strong> Using LIKE operator for flexible text searches</li>
                <li><strong>Query Optimization:</strong> Constructing efficient and readable SQL statements</li>
            </ul>
            <p>The practical demonstrates advanced understanding of SQL query operations essential for database management and data analysis tasks.</p>
        </div>
    </div>

    <script>
        // Set current date
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('en-GB');
        // Disable context menu and copy/select actions
        document.addEventListener('contextmenu', function(e){ e.preventDefault(); }, { passive: false });
        ['copy','cut','paste','dragstart','selectstart'].forEach(function(evt){
            document.addEventListener(evt, function(e){ e.preventDefault(); }, { passive: false });
        });
        document.addEventListener('keydown', function(e){
            if ((e.ctrlKey || e.metaKey) && (e.key === 'c' || e.key === 'x')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>

